<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [@liquidrazor/rtsk](./rtsk.md) &gt; [createStream](./rtsk.createstream.md)

## createStream() function

Creates a stream controller for managing client-side streaming connections.

**Signature:**

```typescript
export declare function createStream<TRequest, TRaw, TResponse>(definition: StreamDefinition<TRequest, TRaw, TResponse>): StreamController<TRequest, TResponse>;
```

## Parameters

<table><thead><tr><th>

Parameter


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

definition


</td><td>

[StreamDefinition](./rtsk.streamdefinition.md)<!-- -->&lt;TRequest, TRaw, TResponse&gt;


</td><td>

Stream configuration defining transport mode, endpoint, request mapping, and response hydration


</td></tr>
</tbody></table>

**Returns:**

[StreamController](./rtsk.streamcontroller.md)<!-- -->&lt;TRequest, TResponse&gt;

A [StreamController](./rtsk.streamcontroller.md) instance with lifecycle and subscription helpers

## Remarks

This factory function creates a [StreamController](./rtsk.streamcontroller.md) that manages the lifecycle of a streaming connection and distributes events to subscribers.

Status transitions typically include: - `idle` → `connecting` → `streaming` - `streaming` → `completed` (natural end) - `streaming` → `error` (failure) - `*` → `stopped` (manual stop)

The controller supports multiple subscribers and notifies them of: - status changes (`onStatusChange`<!-- -->) - hydrated messages (`onNext`<!-- -->) - errors (`onError`<!-- -->) - completion (`onComplete`<!-- -->)

## Example


```ts
const controller = createStream({
  mode: "ndjson",
  endpoint: "https://api.example.com/stream",
  requestMapper: (req) => req,
  responseHydrator: (raw) => raw,
});

const sub = controller.subscribe({
  onStatusChange: (s) => console.log("Status:", s),
  onNext: (v) => console.log("Next:", v),
  onError: (e) => console.error("Error:", e),
  onComplete: () => console.log("Complete"),
});

controller.start({ query: "example" });
// later...
controller.stop();
sub.unsubscribe();
```

